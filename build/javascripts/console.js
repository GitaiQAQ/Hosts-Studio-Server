function activateModal_New(){var e=document.createElement("div");$(e).addClass("mui-panel"),$(e).addClass("popup"),$('<form method="post" action="/hosts">  <legend>新建项目</legend>  <div class="mui-form-group">    <input type="text" name="title" class="mui-form-control" placeholder="title">  </div>  <div class="mui-form-group"><input type="url" name="url" class="mui-form-control" placeholder="url"></div>  <iframe height="50px" frameborder="0" name="upload" src="'+location.origin+'/hosts/upload"></iframe><div class="mui-checkbox">    <label>      <input name="lock" type="checkbox">私有    </label>  </div>  <div class="mui-form-group">    <textarea name="description" class="mui-form-control" placeholder="description"></textarea>  </div>  <button type="submit" class="mui-btn mui-btn-default mui-btn-raised">新建</button></form>').appendTo(e),mui.overlay("on",e)}function activateModal_Detail(e){var o=document.createElement("div");$(o).addClass("spinner"),$('<div class="dot1"></div><div class="dot2"></div>').appendTo(o),mui.overlay("on",o),socket.emit("Hosts","get",{id:e},function(e,o){if(mui.overlay("off"),e)return e.level="danger",void showLog(e);var t=document.createElement("div");$(t).addClass("mui-panel"),$(t).addClass("popup"),$(t).addClass("lg");var a=!1;o.author&&o.author.objectId===User.objectId&&(a=!0),$('<form method="post" action="/hosts'+(a?"/":"?fork=")+o.objectId+'"><legend>'+o.title+(a?'<i class="fa fa-pencil-square-o"></i>'+(o.fork&&o.fork.objectId?"<a href=\"javascript:activateModal_Detail('"+o.fork.objectId+'\')" title="" style="float: right;"><i class="fa fa-code-fork"></i></a>':""):'<i class="fa fa-clone"></i>')+'</legend><div class="mui-form-group"><input type="text" name="title" class="mui-form-control" placeholder="title" value="'+o.title+'"></div><div class="mui-form-group"><input type="url" name="url" class="mui-form-control" placeholder="url" value="'+o.url+'"></div><iframe height="50px" frameborder="0" name="upload" src="'+location.origin+'/hosts/upload"></iframe><div class="mui-checkbox"><label><input name="lock" type="checkbox" '+(a&o.lock?"checked":"")+'>私有</label></div><div class="mui-form-group"><textarea name="description" class="mui-form-control" placeholder="description">'+o.description+'</textarea>  </div>  <button type="submit" class="mui-btn mui-btn-default mui-btn-raised">'+(a?"修改":"收藏到库")+"</button>"+(a?"<a href=\"javascript:hosts_remove('"+o.objectId+'\')" title="">  Delete</a>':"")+"</form>").appendTo(t),mui.overlay("on",t)})}function hosts_remove(e){var o=document.createElement("div");$(o).addClass("spinner"),$('<div class="dot1"></div><div class="dot2"></div>').appendTo(o),mui.overlay("on",o),socket.emit("Hosts","del",{id:e},function(e,o){return mui.overlay("off"),e?(e.level="danger",void showLog(e)):void $('div[name="'+o.objectId+'"]').remove()})}var socket=io();socket.emit("login",document.cookie),socket.on("login",function(e,o){return e?(e.level="danger",void showLog(e)):void console.log("login",e,o)}),socket.on("logout",function(e,o){return e?(e.level="danger",void showLog(e)):void console.log("logout",e,o)}),function(){var e=AV.push({appId:appId,appKey:appKey});e.open(function(){console.log("开启接收推送")}),e.on("message",function(e){console.log(e),showLog(e)}),window.send=function(o){e.send({username:User.username,level:"primary",msg:o},function(e){e?console.log("推送成功发送"):console.log({level:"danger",msg:"推送发送失败"})})},$("#talk_input").bind("keypress",function(e){"13"==e.keyCode&&this.value.length>0&&(t(this.value),this.value="")})}(),$("#msg_send").mousemove(function(){$(this).removeClass("mui-btn-danger")});
//# sourceMappingURL=console.js.map
